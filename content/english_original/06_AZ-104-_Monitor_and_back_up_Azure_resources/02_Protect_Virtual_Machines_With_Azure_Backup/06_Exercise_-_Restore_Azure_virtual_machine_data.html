<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise - Restore Azure virtual machine data - Training | Microsoft Learn</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px;
            color: #333;
            background-color: #fff;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #0078d4;
            margin-top: 2em;
            margin-bottom: 1em;
            font-weight: 600;
        }
        
        h1 { 
            border-bottom: 3px solid #0078d4; 
            padding-bottom: 15px; 
            font-size: 2.2em;
            margin-bottom: 1.5em;
        }
        
        h2 { 
            font-size: 1.6em; 
            border-left: 4px solid #0078d4;
            padding-left: 15px;
        }
        
        h3 { font-size: 1.3em; }
        h4 { font-size: 1.1em; }
        
        p {
            margin: 16px 0;
            text-align: justify;
            line-height: 1.7;
        }
        
        ul, ol {
            margin: 20px 0;
            padding-left: 30px;
        }
        
        li {
            margin: 10px 0;
            line-height: 1.6;
        }
        
        code {
            background-color: #f6f8fa;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
            color: #d73a49;
        }
        
        pre {
            background-color: #f6f8fa;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #0078d4;
            margin: 20px 0;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #333;
        }
        
        blockquote {
            border-left: 4px solid #0078d4;
            padding: 20px;
            margin: 20px 0;
            background-color: #f8f9fa;
            border-radius: 4px;
            font-style: italic;
        }
        
        .source-info {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 5px solid #2196f3;
            font-size: 0.9em;
        }
        
        .source-info h2 {
            margin-top: 0;
            color: #1976d2;
            font-size: 1.2em;
        }
        
        .translation-placeholder {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: 20px;
            border-radius: 8px;
            margin-top: 40px;
            border-left: 5px solid #ff9800;
        }
        
        .translation-placeholder h2 {
            margin-top: 0;
            color: #f57c00;
            font-size: 1.2em;
        }
        
        img { 
            max-width: 100%; 
            height: auto; 
            margin: 25px 0;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Image container for better layout */
        .image-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .image-container img {
            margin: 10px 0;
        }
        
        .image-container p {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }
        
        table { 
            border-collapse: collapse; 
            width: 100%; 
            margin: 25px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        th, td { 
            border: 1px solid #ddd; 
            padding: 15px; 
            text-align: left; 
        }
        
        th { 
            background-color: #f5f5f5; 
            font-weight: bold;
            color: #0078d4;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        
        strong {
            color: #0078d4;
            font-weight: 600;
        }
        
        a {
            color: #0078d4;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        /* Alert boxes */
        .alert {
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
            border-left: 4px solid;
        }
        
        .alert.is-info {
            background-color: #e3f2fd;
            border-left-color: #2196f3;
            color: #1976d2;
        }
        
        .alert.is-warning {
            background-color: #fff3e0;
            border-left-color: #ff9800;
            color: #f57c00;
        }
        
        .alert-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="source-info">
        <h2>ðŸ“š Course Information</h2>
        <p><strong>Unit:</strong> 6 Exercise Restore Virtual Machine Data</p>
        <p><strong>Source:</strong> <a href="https://learn.microsoft.com/en-us/training/modules/protect-virtual-machines-with-azure-backup/6-exercise-restore-virtual-machine-data/?ns-enrollment-type=learningpath&ns-enrollment-id=learn.az-104-monitor-backup-resources" target="_blank">https://learn.microsoft.com/en-us/training/modules/protect-virtual-machines-with-azure-backup/6-exercise-restore-virtual-machine-data/?ns-enrollment-type=learningpath&ns-enrollment-id=learn.az-104-monitor-backup-resources</a></p>
        <p><strong>Course:</strong> AZ-104: Microsoft Azure Administrator</p>
    </div>
    
    <div class="main-content">
        <p>
 A few days after you backed up your first Azure virtual machine (VM), the server had issues. The VM needs to be restored from a backup. You want to restore the VM's disk and attach it to the problematic live server, and then track the restore to ensure that it finished successfully.
</p>
<p>
 In this exercise, you see how to restore a successful backup to replace a VM that became corrupted, and monitor its progress.
</p>
<h2 id="restore-a-virtual-machine-in-the-azure-portal">
 Restore a virtual machine in the Azure portal
</h2>
<h3 id="create-a-storage-account-to-use-as-a-staging-location">
 Create a storage account to use as a staging location
</h3>
<ol>
 <li>
  <p>
   If you closed Azure, sign in to the
   <a class="has-external-link-indicator" data-linktype="external" href="https://portal.azure.com/" target="az-portal">
    Azure portal
   </a>
   by using the same account that you used in the previous exercise.
  </p>
 </li>
 <li>
  <p>
   In theâ€¯Azure portal, enter
   <strong>
    Storage accounts
   </strong>
   in the top search bar, and then select it.
  </p>
  <p>
   <img alt="Select storage accounts." data-linktype="relative-path" loading="lazy" src="../../../assets/6-select-storage-accounts_b1b5e863.png"/>
  </p>
  <p>
   The
   <strong>
    Storage accounts
   </strong>
   pane appears.
  </p>
 </li>
 <li>
  <p>
   In the menu bar, select
   <strong>
    Create
   </strong>
   . The
   <strong>
    Create a storage account
   </strong>
   pane appears.
  </p>
 </li>
 <li>
  <p>
   On the
   <strong>
    Basics
   </strong>
   tab, enter the following values for each setting to create a storage account.
  </p>
  <div class="buttons buttons-right margin-bottom-none margin-top-sm">
   <!-- -->
   <!-- -->
  </div>
  <div class="has-inner-focus">
   <table aria-label="Table 1" class="table">
    <thead>
     <tr>
      <th>
       Setting
      </th>
      <th>
       Value
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       Resource group
      </td>
      <td>
       From the dropdown list, select
       <strong>
        vmbackups
       </strong>
       .
      </td>
     </tr>
     <tr>
      <td>
       <strong>
        Instance details
       </strong>
      </td>
      <td>
      </td>
     </tr>
     <tr>
      <td>
       Storage account name
      </td>
      <td>
       Enter a unique name like
       <strong>
        restorestagingYYYYMMDD
       </strong>
       , where YYYYMMDD is replaced with today's date.
      </td>
     </tr>
     <tr>
      <td>
       <strong>
        Region
       </strong>
      </td>
      <td>
       From the dropdown list, select
       <strong>
        (US) West US 2
       </strong>
       .
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <p>
   <img alt="Specify storage account options." data-linktype="relative-path" loading="lazy" src="../../../assets/6-specify-storage-account-options_2539f5d4.png"/>
  </p>
 </li>
 <li>
  <p>
   Select
   <strong>
    Review + create
   </strong>
   .
  </p>
 </li>
 <li>
  <p>
   After validation passes, select
   <strong>
    Create
   </strong>
   .
  </p>
  <p>
   Wait for the storage account to be deployed.
  </p>
 </li>
</ol>
<h3 id="stop-the-virtual-machine">
 Stop the virtual machine
</h3>
<p>
 A backup can't be restored if the VM is allocated and running. If you forget to stop the VM and attempt to restore it, you see an error that's similar to the following example.
</p>
<p>
 <img alt="Screenshot that shows the error details when a VM is running." data-linktype="relative-path" loading="lazy" src="../../../assets/6-restore-error_8a0494cf.png"/>
</p>
<p>
 To prevent this error, follow these steps:
</p>
<ol>
 <li>
  <p>
   In the top left of the Azure portal, select
   <strong>
    Home
   </strong>
   , select
   <strong>
    Virtual Machines
   </strong>
   , and then select
   <strong>
    NW-APP01
   </strong>
   .
  </p>
  <p>
   <img alt="Screenshot that shows the VM overview page." data-linktype="relative-path" loading="lazy" src="../../../assets/6-vm-overview_e04c9df9.png"/>
  </p>
  <p>
   The
   <em>
    NW-APP01
   </em>
   virtual machine pane appears.
  </p>
 </li>
 <li>
  <p>
   In the menu bar, select
   <strong>
    Stop
   </strong>
   .
  </p>
  <p>
   <img alt="Screenshot that shows how to stop the VM." data-linktype="relative-path" loading="lazy" src="../../../assets/6-stop-vm_e668a5bf.png"/>
  </p>
 </li>
 <li>
  <p>
   In the
   <strong>
    Stop this virtual machine
   </strong>
   dialog box, select
   <strong>
    OK
   </strong>
   .
  </p>
  <p>
   <img alt="Screenshot of the prompt for stopping this VM." data-linktype="relative-path" loading="lazy" src="../../../assets/6-stop-this-vm_22a754e8.png"/>
  </p>
 </li>
</ol>
<h3 id="restore-the-virtual-machine">
 Restore the virtual machine
</h3>
<p>
 The Recovery Services vaults are accessible at the subscription level. When you're viewing the VM, Azure provides a quick link to the specific vault under
 <strong>
  Operations
 </strong>
 .
</p>
<ol>
 <li>
  <p>
   In the menu pane, scroll to
   <strong>
    Operations
   </strong>
   , and select
   <strong>
    Backup
   </strong>
   .
  </p>
  <p>
   <img alt="Screenshot of the Backup operation for a VM." data-linktype="relative-path" loading="lazy" src="../../../assets/6-vm-backup-menu_71163286.png"/>
  </p>
 </li>
 <li>
  <p>
   To restore the virtual machine, in the menu bar, select
   <strong>
    Restore VM
   </strong>
   . The
   <strong>
    Restore Virtual Machine
   </strong>
   pane for
   <em>
    NW-APP01
   </em>
   appears.
  </p>
 </li>
 <li>
  <p>
   Under the
   <strong>
    Restore point
   </strong>
   text box, choose
   <strong>
    Select
   </strong>
   . The
   <strong>
    Select restore point
   </strong>
   pane appears.
  </p>
 </li>
 <li>
  <p>
   By default, the start and end date are set for a two week range. Set the
   <strong>
    Start date
   </strong>
   to an appropriate date for our restore points (
   <strong>
    07/05/2021
   </strong>
   ), select the restore point to use for the recovery, and then select
   <strong>
    OK
   </strong>
   .
  </p>
  <p>
   <img alt="Screenshot of selecting a restore point." data-linktype="relative-path" loading="lazy" src="../../../assets/6-restore-point_cd4bc591.png"/>
  </p>
  <p>
   The
   <strong>
    Restore Virtual Machine
   </strong>
   pane for
   <em>
    NW-APP01
   </em>
   appears.
  </p>
 </li>
 <li>
  <p>
   Configure the restore point using the following values for each setting.
  </p>
  <div class="buttons buttons-right margin-bottom-none margin-top-sm">
   <!-- -->
   <!-- -->
  </div>
  <div class="has-inner-focus">
   <table aria-label="Table 2" class="table">
    <thead>
     <tr>
      <th>
       Setting
      </th>
      <th>
       Value
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       <strong>
        Restore Configuration
       </strong>
      </td>
      <td>
      </td>
     </tr>
     <tr>
      <td>
       Replace existing
      </td>
      <td>
       Select this option.
      </td>
     </tr>
     <tr>
      <td>
       Staging Location
      </td>
      <td>
       From the dropdown list, select the storage account that you previously created.
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <p>
   <img alt="Screenshot that shows the restore configuration options." data-linktype="relative-path" loading="lazy" src="../../../assets/6-restore-configuration_dc4f0b39.png"/>
  </p>
 </li>
 <li>
  <p>
   Select
   <strong>
    Restore
   </strong>
   . The
   <strong>
    Backup
   </strong>
   pane for the
   <em>
    NW-APP01
   </em>
   virtual machine appears. Notice the notifications in the top right of the toolbar. The latest notification shows
   <strong>
    Triggering restore for NW-APP01
   </strong>
  </p>
 </li>
</ol>
<h2 id="track-a-restore">
 Track a restore
</h2>
<ol>
 <li>
  <p>
   In the
   <strong>
    Alerts and Jobs
   </strong>
   section, select
   <strong>
    View all Jobs
   </strong>
   . The
   <strong>
    Backup Jobs
   </strong>
   pane appears.
  </p>
  <p>
   <img alt="Screenshot of view details for the restore job." data-linktype="relative-path" loading="lazy" src="../../../assets/6-review-jobs_8df7d785.png"/>
  </p>
 </li>
 <li>
  <p>
   In the
   <strong>
    Details
   </strong>
   column, select
   <strong>
    View details
   </strong>
   for the
   <strong>
    Restore
   </strong>
   job.
  </p>
  <p>
   <span class="mx-imgBorder">
    <a aria-haspopup="dialog" class="lightbox-enabled" data-bi-name="lightbox" data-linktype="relative-path" href="media/6-restore-progress.png#lightbox">
     <img alt="Screenshot of the restore progress." data-linktype="relative-path" loading="lazy" src="../../../assets/6-restore-progress_885a5f0e.png"/>
    </a>
   </span>
  </p>
  <p>
   The
   <strong>
    Restore
   </strong>
   pane appears for
   <em>
    NW-APP01
   </em>
   .
  </p>
 </li>
 <li>
  <p>
   You can monitor the progress of the VM restore job:
  </p>
  <ul>
   <li>
    <strong>
     Job details
    </strong>
    : Details about the restore job you launched for this VM.
   </li>
   <li>
    <strong>
     Job status
    </strong>
    : Real-time progress of the restore job.
   </li>
   <li>
    <strong>
     Sub tasks
    </strong>
    : Name and status of the tasks within the job.
   </li>
  </ul>
  <p>
   <img alt="Screenshot of the job details pane." data-linktype="relative-path" loading="lazy" src="../../../assets/6-job-details_e175331a.png"/>
  </p>
 </li>
</ol>

    </div>
    
    <div class="translation-placeholder">
        <h2>ðŸ‡»ðŸ‡³ Vietnamese Translation</h2>
        <p><em>Báº£n dá»‹ch tiáº¿ng Viá»‡t sáº½ Ä‘Æ°á»£c thÃªm vÃ o Ä‘Ã¢y...</em></p>
        <p><em>Translation will be added here...</em></p>
    </div>
</body>
</html>